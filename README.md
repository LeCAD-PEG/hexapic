# How to update the website pages

## Any page except for the API pages

1. **If first time**, clone this repository into your local machine: `git clone git@github.com:LeCAD-PEG/HEXAPIC.git hexapic`. This will create a directory named *hexapic* in the current path.

2. **If already have clone** then only update your local branch:
```
cd hexapic
git pull
```
If you have made changes before the pull, stash your changes, pull and pop the stash:
```
git stash
git pull
git stash pop
```
Now your changes will be written on top of the updated branch so make sure to check it out for inconsistencies.

3. Modify any `.md` file under *docs/[any_directory]*. **Exception:** the *docs/api* which is **autogenerated** using the *mkdocs_api.yml* file **if** you have the source code with Doxygen inline comments and the path is supplied inside the *mkdocs_api.yml* file.

4. Call `mkdocs serve` and navigate to `http://127.0.0.1:8000/` in your preferred browser to preview your changes.

5. Git push your changes so that the `.md` files are saved into the remote repository:
```
git status // to see which files changed locally
git add <file1> <file2> // ...etc
git commit -m 'few_words_about_the_changes'
git push
```

6. Deploy the website to Gihub Pages: `mkdocs gh-deploy`.


## API pages

**ONLY IF YOU HAVE THE LATEST HEXAPIC SOURCE CODE WITH DOXYGEN INLINE DOCUMENTATION**

1. Repeat steps **1-2** from previous section. 

2. Git pull the source code from the Bitbucket repository.

3. Update the source code with Doxygen inline documentation.

4. Push your changes back into the Bitbucket repository.

5. Put your HEXAPIC source path into the *mkdocs_api.yml* file.

6. Call `mkdocs serve -f mkdocs_api.yml` and navigate to `http://127.0.0.1:8000/` in your preferred browser to preview your changes.

7. Copy the generated `.md` files into the *docs/api/* directory and remove the generated source code (as of now, the code is not public):
```
cp -a site/assets/.doxy/api/api/* docs/api/
rm docs/api/*_source.md
```
8. Repeat steps **4-5** from previous section.